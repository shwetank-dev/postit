<% show_post ||= false %>
<li class="d-flex align-items-center mb-3">
  <!-- Vote bar (left) -->
  <% if logged_in? %>
    <aside class="vote-widget me-2" aria-label="Voting controls">
      <%= button_to vote_post_comment_path(comment.post, comment, vote: true), method: :post do %>
        <span class="vote-btn vote-up" aria-label="Upvote">▲</span>
      <% end %>
      <span class="vote-count"><%= comment.total_votes %> votes</span>
      <%= button_to vote_post_comment_path(comment.post, comment, vote: false), method: :post do %>
        <span class="vote-btn vote-down" aria-label="Downvote">▼</span>
      <% end %>
    </aside>
  <% end %>
  <!-- Comment card -->
  <div class="card mb-0 border-0 shadow-sm flex-grow-1">
    <div class="card-body">
      <p class="card-text mb-2"><%= comment.body %></p>
      <div class="d-flex justify-content-between align-items-center">
        <% if show_post %>
          <div>
            <small class="text-muted">
              on
              <%= link_to comment.post.title, post_path(comment.post), class: "fw-semibold text-decoration-none" %>
            </small>
          </div>
        <% end %>
        <div>
          <small class="text-muted">
            Posted by
            <%= link_to comment.creator.username, user_path(comment.creator), class: "text-decoration-none" %>
            • <%= display_datetime(comment.created_at) %>
          </small>
        </div>
      </div>
    </div>
  </div>
</li>
